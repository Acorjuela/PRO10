<!DOCTYPE html>
<html lang="es" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title>Multi 10</title>
    <link rel="stylesheet" href="css/MulPro.css">
    <link rel="icon" type="image/jpg" href="img/PROO.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
</head>

<body>
    <div class="block">
        <div class="container">
            <header class="hdr">
                <div class="logo">
                    <img id="loteria" src="img/PROO.png" alt="">
                </div>

            </header>
            <h1 class="ml3">FORMULARIO DE REGISTRACI√ìN 30 USD</h1>

            <div class="content">
		    <div class="subscribe">
                    <button class="cancel" type="button" id="cancelBtn"
                        onclick="document.location='https://acorjuela.github.io/Multi10/'">Cancelar</button>
                </div>
                <form id="uploadForm"
                    action="https://script.google.com/macros/s/AKfycbwoSVzMUNVXtP28GtrD0q1esj1f12Jhg674JQuqBFuEFp4xvTP93_nJ38Zl5N3monVr/exec"
                    method="POST" enctype="multipart/form-data">
                    <input type="hidden" value="" name="fileContent" id="fileContent">
                    <input type="hidden" value="" name="filename" id="filename">

                    <div class="user-details">
                        <div class="input-box">
                            <label for="nombre" class="form-label">Nomes</label>
                            <input type="text" id="nombre" name="nombre" class="form-control"
                                placeholder="Ingrese su Nomes completo" required>
                        </div>
                        <div class="input-box">
                            <label for="email" class="form-label">E-mail</label>
                            <input type="email" id="email" name="email" class="form-control"
                                placeholder="Ingrese su E-mail" required>
                        </div>
                        <div class="input-box">
                            <label for="fecha_nacimiento" class="form-label">Data de nascimento</label>
                            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" class="form-control"
                                required>
                        </div>
                        <div class="input-box">
                            <label for="whatsApp" class="form-label">WhatsApp</label>
                            <input type="text" id="whatsApp" name="whatsApp" class="form-control"
                                placeholder="Ingrese su whatsApp" required>
                        </div>
                        <div class="input-box">
                            <label for="usuario" class="form-label">Usu√°rio</label>
                            <input type="text" id="usuario" name="usuario" class="form-control"
                                placeholder="Usu√°rio Cear " required>
                        </div>
                        <div class="input-box">
                            <label for="pais" class="form-label">Pa√≠s</label>
                            <input type="text" id="pais" name="pais" class="form-control"
                                placeholder="Ingrese su lugar de nacimiento" required>
                        </div>


                        <div class="input-box">
                            <label for="colores_responsable">Cor Respons√°vel</label>
                            <select id="colores_responsable" name="colores_responsable" required>
                                <option value="" disabled selected>Selecione uma cor</option>
                                <option value="Verde">Verde</option>
                                <option value="Ouro">Ouro</option>
                                <option value="Vermelho">Vermelho</option>
                                <option value="Rosa">Rosa</option>
                                <option value="Roxo">Roxo</option>
                                <option value="Azul">Azul</option>
                                <option value="Marrom">Marrom</option>
                                <option value="Laranja">Laranja</option>
                                <option value="P√∫rpura">P√∫rpura</option>
                                <option value="Salm√£o">Salm√£o</option>
                                <option value="Amarelo">Amarelo</option>
                                <option value="Verde escuro">Verde escuro</option>
                                <option value="Preto">Preto</option>
                                <option value="Caf√©">Caf√©</option>
                                <option value="Cinza">Cinza</option>
                                <option value="Branco">Branco</option>
                                <option value="Azul claro">Azul claro</option>
                                <option value="Creme">Creme</option>
                                <option value="Granada">Granada</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <label for="pagar">Pagar em d√≥lares</label>
                            <select id="pagar" name="pagar" required>
                                <option value="" disabled selected>Selecione um valor</option>
                                <option value="30 USD">30 USD</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <label for="eres">Eres</label>
                            <select id="eres" name="eres" required>
                                <option value="" disabled selected>Elige una opci√≥n</option>
                                <option value="Sordo/a">Sordo/a</option>
                                <option value="Oyente/a">Oyente/a</option>
                            </select>
                        </div>

                        <div class="input-box">
                            <label for="binance_de_Pay" class="form-label">Binance de Pay</label>
                            <input type="text" id="binance_de_Pay" name="binance_de_Pay" class="form-control"
                                placeholder="Ingrese su n√∫mero de Binance" required>
                        </div>

                        <!-- Contenedor para la vista previa de la imagen -->
                        <div class="input-box">
                            <label class="form-label">Uma captura de tela do Binance Pay, por favor.</label>
                            <img id="imagePreview" alt="Vista previa de la imagen">
                        </div>

                        <div class="input-box">
                            <div class="container2">
                                <div class="folder">
                                    <div class="front-side">
                                        <div class="tip"></div>
                                        <div class="cover"></div>
                                    </div>
                                    <div class="back-side cover"></div>
                                </div>
                                <label class="custom-file-upload">
                                    <input required id="adjuntar" name="adjuntar" class="title" type="file"
                                        accept="image/*" onchange="previewImage()" />
                                    Choose a file
                                </label>
                            </div>
                        </div>


                    </div>

                    <div class="button" style="width: 100%; text-align: center;">
                        <input type="button" id="submitButton" value="ENVIAR DATOS" onclick="UploadFile();"
                            class="btn btn-success">
                    </div>

                </form>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <img id="facu" src="img/MultiLuisVero.png" alt="">
            <div class="live">
                <img id="Correct" src="img/aprobar.png" alt="">

            </div>
            <span class="close" onclick="closeModal('')">&times;</span>
            <div id="modalMessage"></div>
        </div>
    </div>


    <dialog id="modal1" class="modal1">
        <h3>¬°Regras dos Administradores do Grupo!</h3>
        <p> Se voc√™ n√£o tem uma captura de tela do Binance Pay:</p>
        <ul>
            <li>1. Comunica√ß√£o clara e respeitosa.</li>
            <li>2. Respeito pelos outros.</li>
            <li>3. Proibido insultar ou ofender.</li>
            <li>4. Feedback construtivo.</li>
            <li>5. Ajuda no processo para obter uma captura de tela do Binance Pay.</li>
        </ul>
        <h3>Notas:</h3>
        <p>Muito obrigado! Desejo a todos um excelente dia, cheio de energia e fluidez.
            Vamos continuar avan√ßando juntos! üåü Bom dia!</p>
        <div class="modal-buttons">
            <button class="confirm" type="submit" id="openModalButton" onclick="document.location='proy.html'">10 USD
            </button>
            <button class="confirm" type="submit" id="openModalButton" onclick="document.location='about.html'">50 USD
            </button>
            <button class="confirm" type="submit" id="openModalButton" onclick="document.location='main.html'">100 USD
            </button>
            <button class="cancel" type="button" id="cancelBtn"
                onclick="document.location='proy.html'">Cancelar</button>
        </div>
        </form>
    </dialog>


    <!-- From Uiverse.io by cosnametv -->
    <div class="loader"></div>






    <script>
        // Funci√≥n para verificar si todos los campos obligatorios est√°n llenos
        function checkFormCompletion() {
            const requiredFields = document.querySelectorAll("input[required], select[required]");
            let allFilled = true;

            requiredFields.forEach(field => {
                if (!field.value) {
                    allFilled = false; // Si alg√∫n campo est√° vac√≠o, el formulario no est√° completo
                }
            });

            const submitButton = document.getElementById("submitButton");
            submitButton.disabled = !allFilled; // Habilita o deshabilita el bot√≥n
        }

        // Agregar un evento que se ejecute cada vez que el usuario cambie un campo
        document.querySelectorAll("input[required], select[required]").forEach(input => {
            input.addEventListener("input", checkFormCompletion);
        });

        // Llamar a la funci√≥n al cargar la p√°gina
        window.onload = checkFormCompletion;

        // Funci√≥n para enviar el formulario (simulaci√≥n)
        function UploadFile() {
            // Mostrar mensaje de carga mientras se procesa
            Swal.fire({
                title: 'Enviando...',
                text: 'Por favor espere...',
                didOpen: () => {
                    Swal.showLoading()
                }
            });

            // Simular un retraso (en un caso real, aqu√≠ ir√≠a la l√≥gica de env√≠o del formulario)
            setTimeout(() => {
                Swal.fire({
                    title: '¬°Registro Exitoso!',
                    text: 'Tus datos fueron registrados correctamente.',
                    icon: 'success',
                    confirmButtonText: 'Cerrar'
                }).then(() => {
                    // Reiniciar el formulario despu√©s del mensaje de √©xito
                    document.getElementById("uploadForm").reset();
                    document.getElementById("submitButton").disabled = true; // Deshabilitar el bot√≥n nuevamente
                });
            }, 2000); // Simular un retraso de 2 segundos
        }

        // Funci√≥n para mostrar el loader (la animaci√≥n mientras se env√≠a la informaci√≥n)
        function showLoader() {
            document.querySelector(".loader").style.display = "flex";
        }

        // Funci√≥n para ocultar el loader cuando termine el proceso
        function hideLoader() {
            document.querySelector(".loader").style.display = "none";
        }

        // Funci√≥n para cargar la imagen seleccionada como vista previa
        function previewImage() {
            const fileInput = document.getElementById("adjuntar");
            const preview = document.getElementById("imagePreview");

            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();

                reader.onload = function (e) {
                    preview.src = e.target.result;
                    preview.style.display = "block";
                };

                reader.readAsDataURL(fileInput.files[0]);
            } else {
                preview.src = "";
                preview.style.display = "none";
            }
        }

        // Funci√≥n para manejar el env√≠o del formulario
        function UploadFile() {
            const reader = new FileReader();
            const file = document.getElementById("adjuntar").files[0];

            showLoader(); // Mostrar el loader al iniciar el env√≠o

            // Cargar el contenido del archivo
            reader.onload = function () {
                document.getElementById("fileContent").value = reader.result;
                document.getElementById("filename").value = file.name;

                // Crear un objeto FormData con los datos del formulario
                const formData = new FormData(document.getElementById("uploadForm"));

                // Usar fetch para enviar los datos
                fetch(document.getElementById("uploadForm").action, {
                    method: "POST",
                    body: formData
                })
                    .then(response => response.json())
                    .then(data => {
                        hideLoader(); // Ocultar el loader cuando se termine

                        if (data.status === "success") {
                            const details = data.details;
                            const modalMessage = `
                    <h2>${data.message}</h2>
                    <p><strong>Nomes:</strong> ${details.nombre}</p>
					<p><strong>E-mail:</strong> ${details.email}</p>
					<p><strong>Data de nascimento:</strong> ${details.fecha_nacimiento}</p>
					<p><strong>WhatsApp:</strong> ${details.whatsApp}</p>
					<p><strong>Usu√°rio:</strong> ${details.usuario}</p>
                    <p><strong>Pa√≠s:</strong> ${details.pais}</p>
                    <p><strong>Cor Respons√°vel:</strong> ${details.colores_responsable}</p>
					<p><strong>Pagar em d√≥lares:</strong> ${details.pagar}</p>
					 <p><strong>Eres de:</strong> ${details.eres}</p>
                    <p><strong>Binance de Pay:</strong> ${details.binance_de_Pay}</p>
                    <p><strong>Archivo:</strong> <a href="${details.fileUrl}" target="_blank">Ver Archivo</a></p>
                `;
                            document.getElementById("modalMessage").innerHTML = modalMessage;
                            document.getElementById("myModal").style.display = "block"; // Mostrar el modal con los detalles
                        } else {
                            Swal.fire("Error", data.message, "error"); // Mostrar alerta de error
                        }
                    })
                    .catch(error => {
                        hideLoader(); // Ocultar el loader si hay un error
                        Swal.fire("Error", "Hubo un problema al procesar los datos.", "error");
                        console.error(error);
                    });
            };

            // Leer el archivo seleccionado
            reader.readAsDataURL(file);
        }

        // Funci√≥n para cerrar el modal
        function closeModal() {
            document.getElementById("myModal").style.display = "none";
            document.getElementById("uploadForm").reset(); // Reiniciar el formulario
            document.getElementById("imagePreview").style.display = "none"; // Asegurarse de que la imagen no est√© visible
            document.getElementById("submitButton").disabled = true; // Deshabilitar el bot√≥n
		window.location.href = "https://acorjuela.github.io/Multi10/"; // Redirige a index.html
        }

        // Cerrar el modal si se hace clic fuera de √©l
        window.onclick = function (event) {
            if (event.target == document.getElementById("myModal")) {
                closeModal();
            }
        }


    </script>
    <script src="Js/script.js"></script>
</body>

</html>
</body>

</html>
